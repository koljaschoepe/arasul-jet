# ARASUL PLATFORM - Environment Configuration Template
# Copy this file to .env and fill in the values

# System Configuration
SYSTEM_NAME=arasul
SYSTEM_VERSION=1.0.0
BUILD_HASH=dev-build
JETPACK_VERSION=6.0

# Network Configuration
INTERNAL_IP=172.30.0.1
SUBNET=172.30.0.0/24
HTTP_PORT=80
HTTPS_PORT=443

# Admin Configuration
# IMPORTANT: Bootstrap script will generate secure random password and hash
ADMIN_USERNAME=admin
ADMIN_PASSWORD=__ADMIN_PASSWORD_PLACEHOLDER__
ADMIN_HASH=

# JWT Configuration
# IMPORTANT: Bootstrap script will generate cryptographically secure 256-bit secret
JWT_SECRET=__JWT_SECRET_PLACEHOLDER__
JWT_EXPIRY=24h

# Database Configuration
POSTGRES_USER=arasul
POSTGRES_PASSWORD=__POSTGRES_PASSWORD_PLACEHOLDER__
POSTGRES_DB=arasul_db
POSTGRES_HOST=postgres-db
POSTGRES_PORT=5432
POSTGRES_MAX_CONNECTIONS=100

# Database Connection Pool Configuration
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=20
POSTGRES_IDLE_TIMEOUT=30000
POSTGRES_CONNECTION_TIMEOUT=10000
POSTGRES_STATEMENT_TIMEOUT=30000

# MinIO Configuration
MINIO_ROOT_USER=arasul_minio_admin
MINIO_ROOT_PASSWORD=__MINIO_ROOT_PASSWORD_PLACEHOLDER__
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_BROWSER=on

# LLM Service Configuration
LLM_SERVICE_HOST=llm-service
LLM_SERVICE_PORT=11434
LLM_SERVICE_MANAGEMENT_PORT=11436
LLM_MODEL=llama3.1:8b
LLM_MAX_TOKENS=2048
LLM_TEMPERATURE=0.7
LLM_GPU_LAYERS=-1
LLM_CONTEXT_SIZE=4096
LLM_MAX_RAM_GB=40

# Embedding Service Configuration
EMBEDDING_SERVICE_HOST=embedding-service
EMBEDDING_SERVICE_PORT=11435
EMBEDDING_MODEL=nomic-embed-text
EMBEDDING_VECTOR_SIZE=768
EMBEDDING_MAX_INPUT_TOKENS=4096

# n8n Configuration
N8N_HOST=n8n
N8N_PORT=5678
N8N_WEBHOOK_PORT=5679
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=__N8N_BASIC_AUTH_PASSWORD_PLACEHOLDER__
N8N_ENCRYPTION_KEY=__N8N_ENCRYPTION_KEY_PLACEHOLDER__

# Metrics Collector Configuration
METRICS_INTERVAL_LIVE=5
METRICS_INTERVAL_PERSIST=30
METRICS_RETENTION_DAYS=7

# Self-Healing Configuration
SELF_HEALING_INTERVAL=10
SELF_HEALING_ENABLED=true
SELF_HEALING_REBOOT_ENABLED=false
SELF_HEALING_LOG_LEVEL=INFO

# Reverse Proxy Configuration
PROXY_HOST=reverse-proxy
PROXY_DASHBOARD_FRONTEND_PORT=3000
PROXY_DASHBOARD_BACKEND_PORT=3001

# Dashboard Configuration
DASHBOARD_BACKEND_PORT=3001
DASHBOARD_FRONTEND_PORT=3000

# Resource Limits (CPU limits as decimal core count)
CPU_LIMIT_LLM=6.0
CPU_LIMIT_EMBEDDING=3.6
CPU_LIMIT_DASHBOARD=0.6
RAM_LIMIT_LLM=32G
RAM_LIMIT_EMBEDDING=8G
RAM_LIMIT_N8N=2G
RAM_LIMIT_POSTGRES=8G

# Disk Thresholds
DISK_WARNING_PERCENT=80
DISK_CLEANUP_PERCENT=90
DISK_CRITICAL_PERCENT=95
DISK_REBOOT_PERCENT=97

# Update System
UPDATE_PUBLIC_KEY_PATH=/arasul/config/public_update_key.pem
UPDATE_CHECK_INTERVAL=86400

# Logging
LOG_LEVEL=INFO
LOG_MAX_SIZE_MB=50
LOG_MAX_FILES=10
LOG_DIR=/arasul/logs

# Timezone
TZ=UTC
