# Secrets Directory

This directory contains sensitive configuration files.

## Security

- **Permissions**: This directory should have `700` permissions (owner only)
- **Git**: All files except `.gitignore` and `README.md` are excluded from git
- **Backup**: Backup these files securely (encrypted) in a separate location

## Files

- `admin.hash` - bcrypt hash of admin password (generated by bootstrap)
- `jwt_secret` - JWT secret key (generated by bootstrap)
- `postgres_password` - PostgreSQL password (generated by bootstrap)
- `minio_root_password` - MinIO root password (generated by bootstrap)
- `n8n_encryption_key` - n8n encryption key (generated by bootstrap)
- `public_update_key.pem` - Public key for update verification (provided by admin)

## Generation

All secrets are automatically generated during bootstrap:

```bash
./arasul bootstrap
```

To regenerate secrets:

```bash
./arasul bootstrap --regenerate-secrets
```

**Warning**: Regenerating secrets will invalidate existing sessions and may cause data loss.

## Manual Secret Management

### Generate Admin Hash

```bash
node -e "const bcrypt = require('bcrypt'); bcrypt.hash('your-password', 12, (err, hash) => console.log(hash));"
```

### Generate JWT Secret

```bash
openssl rand -base64 64
```

### Generate PostgreSQL Password

```bash
openssl rand -base64 32
```

## Permissions

Set proper permissions after generation:

```bash
chmod 700 config/secrets/
chmod 600 config/secrets/*
```
